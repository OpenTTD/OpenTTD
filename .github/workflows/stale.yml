name: "Close stale issues and pull-requests"
on:
  schedule:
  - cron: "*/15 * * * *"

jobs:
  stale:
    name: Stale
    runs-on: ubuntu-latest
    steps:
    - name: Stale issues
      uses: actions/stale@v1
      with:
        repo-token: ${{ secrets.GITHUB_TOKEN }}
        stale-issue-message: >
          This issue has been automatically marked as stale because it has not had any activity in the last two months.

          If you believe the issue is still relevant, please test on the latest nightly and report back.

          It will be closed if no further activity occurs within 7 days.

          Thank you for your contributions.
        days-before-stale: 60
        days-before-close: 7
        stale-issue-label: stale
        exempt-issue-label: pinned
        operations-per-run: 2

    - name: Stale pull requests
      uses: actions/stale@v1
      with:
        repo-token: ${{ secrets.GITHUB_TOKEN }}
        stale-pr-message: >
          This pull request has been automatically marked as stale because it has not had any activity in the last month.

          Please feel free to give a status update now, ping for review, or re-open when it's ready.

          It will be closed if no further activity occurs within 7 days.

          Thank you for your contributions.
        days-before-stale: 30
        days-before-close: 7
        stale-pr-label: stale
        exempt-pr-label: pinned
        operations-per-run: 2
